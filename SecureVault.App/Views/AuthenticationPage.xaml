<Page
    x:Class="SecureVault.App.Views.AuthenticationPage"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml">

    <Grid>
        <Grid.Background>
            <LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
                <GradientStop Color="#1e3c72" Offset="0"/>
                <GradientStop Color="#2a5298" Offset="1"/>
            </LinearGradientBrush>
        </Grid.Background>

        <Grid MaxWidth="400" HorizontalAlignment="Center" VerticalAlignment="Center">
            <StackPanel Spacing="24">
                <StackPanel HorizontalAlignment="Center" Spacing="8">
                    <FontIcon Glyph="&#xE72E;" FontSize="64" Foreground="White"/>
                    <TextBlock Text="SecureVault Manager" FontSize="32" FontWeight="Bold" Foreground="White" HorizontalAlignment="Center"/>
                    <TextBlock Text="Le tue password, protette localmente" FontSize="14" Foreground="#CCFFFFFF" HorizontalAlignment="Center"/>
                </StackPanel>

                <Border Background="{ThemeResource CardBackgroundFillColorDefaultBrush}" CornerRadius="8" Padding="32" BorderThickness="1" BorderBrush="{ThemeResource CardStrokeColorDefaultBrush}">
                    <StackPanel Spacing="16">
                        <TextBlock x:Name="TitleText" Text="Sblocca Vault" FontSize="24" FontWeight="SemiBold"/>
                        <InfoBar x:Name="ErrorBar" Severity="Error" IsOpen="{x:Bind ViewModel.HasError, Mode=OneWay}" Message="{x:Bind ViewModel.ErrorMessage, Mode=OneWay}" IsClosable="True"/>
                        <PasswordBox x:Name="MasterPasswordBox" Header="Password Principale" PlaceholderText="Inserisci la tua password principale" KeyDown="OnPasswordKeyDown"/>
                        <PasswordBox x:Name="ConfirmPasswordBox" Header="Conferma Password" PlaceholderText="Conferma la tua password principale" Visibility="Collapsed"/>

                        <StackPanel x:Name="UnlockPanel" Spacing="12">
                            <Button Content="Sblocca Vault" Click="OnUnlockClick" Style="{StaticResource AccentButtonStyle}" HorizontalAlignment="Stretch"/>
                            <HyperlinkButton Content="Crea nuovo vault" Click="OnCreateVaultClick" HorizontalAlignment="Center"/>
                        </StackPanel>

                        <StackPanel x:Name="CreatePanel" Visibility="Collapsed" Spacing="12">
                            <Button Content="Crea Vault" Click="OnCreateClick" Style="{StaticResource AccentButtonStyle}" HorizontalAlignment="Stretch"/>
                            <HyperlinkButton Content="Torna allo sblocco" Click="OnBackToUnlockClick" HorizontalAlignment="Center"/>
                        </StackPanel>
                    </StackPanel>
                </Border>

                <StackPanel HorizontalAlignment="Center" Spacing="4">
                    <TextBlock Text="ðŸ”’ Crittografia militare AES-256" FontSize="12" Foreground="#CCFFFFFF" HorizontalAlignment="Center"/>
                    <TextBlock Text="ðŸ’¾ Tutti i dati memorizzati localmente - nessun cloud" FontSize="12" Foreground="#CCFFFFFF" HorizontalAlignment="Center"/>
                </StackPanel>
            </StackPanel>
        </Grid>
    </Grid>
</Page>
