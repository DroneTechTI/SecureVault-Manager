<?xml version="1.0" encoding="utf-8"?>
<Page
    x:Class="SecureVault.App.Views.AuthenticationPage"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    mc:Ignorable="d">

    <Grid>
        <Grid.Background>
            <LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
                <GradientStop Color="#1e3c72" Offset="0"/>
                <GradientStop Color="#2a5298" Offset="1"/>
            </LinearGradientBrush>
        </Grid.Background>

        <!-- Main Content -->
        <Grid MaxWidth="400" HorizontalAlignment="Center" VerticalAlignment="Center">
            <StackPanel Spacing="24">
                <!-- App Logo/Title -->
                <StackPanel HorizontalAlignment="Center" Spacing="8">
                    <FontIcon Glyph="&#xE72E;" FontSize="64" Foreground="White"/>
                    <TextBlock Text="SecureVault Manager" 
                               FontSize="32" 
                               FontWeight="Bold" 
                               Foreground="White"
                               HorizontalAlignment="Center"/>
                    <TextBlock Text="Your passwords, secured locally" 
                               FontSize="14" 
                               Foreground="#CCFFFFFF"
                               HorizontalAlignment="Center"/>
                </StackPanel>

                <!-- Authentication Card -->
                <Border Background="{ThemeResource CardBackgroundFillColorDefaultBrush}"
                        CornerRadius="8"
                        Padding="32"
                        BorderThickness="1"
                        BorderBrush="{ThemeResource CardStrokeColorDefaultBrush}">
                    <StackPanel Spacing="16">
                        <!-- Title -->
                        <TextBlock x:Name="TitleText" 
                                   Text="Unlock Vault" 
                                   FontSize="24" 
                                   FontWeight="SemiBold"/>

                        <!-- Error Message -->
                        <InfoBar x:Name="ErrorBar"
                                 Severity="Error"
                                 IsOpen="False"
                                 Message=""
                                 IsClosable="True"/>

                        <!-- Master Password -->
                        <PasswordBox x:Name="MasterPasswordBox"
                                     Header="Master Password"
                                     PlaceholderText="Enter your master password"
                                     KeyDown="OnPasswordKeyDown"/>

                        <!-- Confirm Password (only for creation) -->
                        <PasswordBox x:Name="ConfirmPasswordBox"
                                     Header="Confirm Password"
                                     PlaceholderText="Confirm your master password"
                                     Visibility="Collapsed"/>

                        <!-- Password Strength (only for creation) -->
                        <StackPanel x:Name="PasswordStrengthPanel" Visibility="Collapsed" Spacing="8">
                            <TextBlock Text="Password Strength" FontSize="12" Foreground="{ThemeResource TextFillColorSecondaryBrush}"/>
                            <ProgressBar x:Name="PasswordStrengthBar" Value="0" Maximum="100"/>
                        </StackPanel>

                        <!-- Action Buttons -->
                        <StackPanel x:Name="UnlockPanel" Spacing="12">
                            <Button Content="Unlock Vault"
                                    Click="OnUnlockClick"
                                    Style="{StaticResource AccentButtonStyle}"
                                    HorizontalAlignment="Stretch"/>
                            
                            <HyperlinkButton Content="Create new vault" 
                                           Click="OnCreateVaultClick"
                                           HorizontalAlignment="Center"/>
                        </StackPanel>

                        <StackPanel x:Name="CreatePanel" Visibility="Collapsed" Spacing="12">
                            <Button Content="Create Vault"
                                    Click="OnCreateClick"
                                    Style="{StaticResource AccentButtonStyle}"
                                    HorizontalAlignment="Stretch"/>
                            
                            <HyperlinkButton Content="Back to unlock" 
                                           Click="OnBackToUnlockClick"
                                           HorizontalAlignment="Center"/>
                        </StackPanel>
                    </StackPanel>
                </Border>

                <!-- Footer Info -->
                <StackPanel HorizontalAlignment="Center" Spacing="4">
                    <TextBlock Text="ðŸ”’ Military-grade AES-256 encryption" 
                               FontSize="12" 
                               Foreground="#CCFFFFFF"
                               HorizontalAlignment="Center"/>
                    <TextBlock Text="ðŸ’¾ All data stored locally - no cloud" 
                               FontSize="12" 
                               Foreground="#CCFFFFFF"
                               HorizontalAlignment="Center"/>
                </StackPanel>
            </StackPanel>
        </Grid>
    </Grid>
</Page>
